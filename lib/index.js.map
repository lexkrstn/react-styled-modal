{"version":3,"file":"index.js","mappings":"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","sources":["webpack://react-styled-modal/./src/lib/CloseButton.tsx","webpack://react-styled-modal/./src/lib/Modal.tsx","webpack://react-styled-modal/./src/lib/ModalConsumerWrap.tsx","webpack://react-styled-modal/./src/lib/ModalProvider.tsx","webpack://react-styled-modal/./src/lib/helpers.ts","webpack://react-styled-modal/./src/lib/index.ts","webpack://react-styled-modal/./src/lib/styles.ts","webpack://react-styled-modal/external commonjs \"prop-types\"","webpack://react-styled-modal/external commonjs \"react\"","webpack://react-styled-modal/external commonjs \"react-dom\"","webpack://react-styled-modal/external commonjs \"styled-components\"","webpack://react-styled-modal/webpack/bootstrap","webpack://react-styled-modal/webpack/startup"],"sourcesContent":["import React, { DOMAttributes, ReactElement } from 'react';\nimport * as S from './styles';\n\nexport default function CloseButton(\n  { children, ...rest }: DOMAttributes<HTMLButtonElement>,\n): ReactElement {\n  return (\n    <S.CloseButton {...rest}>\n      {children || (\n        <span aria-hidden=\"true\">Ã—</span>\n      )}\n    </S.CloseButton>\n  );\n}\n","import React, { KeyboardEvent, ReactNode } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { transitionEndEvent, theme } from './helpers';\nimport { ModalProviderContextValue } from './ModalProvider';\nimport * as S from './styles';\n\nconst EFFECTS = ['none', 'fade'] as const;\nconst SIZES = ['small', 'medium', 'large'] as const;\n\nexport interface ModalProps {\n  children?: ReactNode;\n  className?: string;\n  open?: boolean;\n  effect?: typeof EFFECTS[number],\n  centered?: boolean;\n  size?: typeof SIZES[number];\n  closeOnEsc?: boolean;\n  onClose?: () => void;\n  Dialog?: typeof S.Dialog;\n  Content?: typeof S.Content;\n  Backdrop?: typeof S.Backdrop;\n  provider?: ModalProviderContextValue;\n}\n\ninterface ModalState {\n  open: boolean;\n  displayed: boolean;\n  hasOpenClass: boolean;\n  id: number;\n  elevation: number;\n}\n\nexport default class Modal extends React.Component<ModalProps, ModalState> {\n  static propTypes: { [K in keyof Omit<Required<ModalProps>, 'children'>]: any } = {\n    className: PropTypes.string,\n    open: PropTypes.bool,\n    effect: PropTypes.oneOf(EFFECTS),\n    centered: PropTypes.bool,\n    size: PropTypes.oneOf(SIZES),\n    closeOnEsc: PropTypes.bool,\n    // Callbacks\n    onClose: PropTypes.func,\n    // Components\n    Dialog: PropTypes.elementType,\n    Content: PropTypes.elementType,\n    Backdrop: PropTypes.elementType,\n    // The provider's (or its stub) interface\n    provider: PropTypes.object.isRequired,\n  };\n\n  static defaultProps: ModalProps = {\n    size: 'medium',\n    open: false,\n    effect: 'fade',\n    centered: false,\n    closeOnEsc: true,\n    Dialog: S.Dialog,\n    Content: S.Content,\n    Backdrop: S.Backdrop,\n  };\n\n  modalRef = React.createRef<HTMLDivElement>();\n  dialogRef = React.createRef<HTMLDivElement>();\n  classTimeoutId: NodeJS.Timeout = null;\n  clickFromDialog = false;\n\n  constructor(props: ModalProps) {\n    super(props);\n    this.state = {\n      open: props.open,\n      displayed: props.open,\n      hasOpenClass: props.open,\n      id: props.provider.generateId(),\n      elevation: 0,\n    };\n  }\n\n  static getDerivedStateFromProps(props: ModalProps, state: ModalState): Partial<ModalState> {\n    const newState: Partial<ModalState> = props.open === state.open ? null : {\n      open: props.open,\n      displayed: props.effect === 'none' ? props.open : true,\n      hasOpenClass: props.effect === 'none' ? props.open : false\n    };\n    if (props.open && !state.open) {\n      newState.elevation = props.provider.popup(state.id);\n    } else if (!props.open && state.open) {\n      props.provider.hide(state.id);\n    }\n    return newState;\n  }\n\n  chargeClassTimeoutId() {\n    this.classTimeoutId = setTimeout(() => {\n      this.setState({\n        displayed: true,\n        hasOpenClass: true\n      });\n      this.classTimeoutId = null;\n    }, 0);\n  }\n\n  clearClassTimeoutId() {\n    if (this.classTimeoutId) {\n      clearTimeout(this.classTimeoutId);\n      this.classTimeoutId = null;\n    }\n  }\n\n  handleTransitionEnd = () => {\n    this.setState({\n      displayed: false,\n      hasOpenClass: false\n    });\n    this.clearTransitionEndHandler();\n  };\n\n  chargeTransitionEndHandler() {\n    this.dialogRef.current.addEventListener(transitionEndEvent(), this.handleTransitionEnd);\n  }\n\n  clearTransitionEndHandler() {\n    this.dialogRef.current.removeEventListener(transitionEndEvent(), this.handleTransitionEnd);\n  }\n\n  addBodyClass() {\n    document.body.classList.add('modal-open');\n  }\n\n  removeBodyClass() {\n    document.body.classList.remove('modal-open');\n  }\n\n  componentWillUnmount() {\n    this.removeBodyClass();\n    this.clearClassTimeoutId();\n    this.clearTransitionEndHandler();\n  }\n\n  render() {\n    // Don't render on server-side\n    if (typeof document === 'undefined') return null;\n\n    const { className, centered, size, children, effect, Dialog, Content, Backdrop } = this.props;\n    const { displayed, hasOpenClass, elevation } = this.state;\n\n    const modalClasses = [className];\n    if (hasOpenClass) modalClasses.push('open');\n    if (effect) modalClasses.push(effect);\n    if (centered) modalClasses.push('centered');\n    if (size) modalClasses.push(size);\n\n    const modal = (\n      <S.Modal\n        className={modalClasses.join(' ')}\n        style={{\n          display: displayed ? 'block' : 'none',\n          zIndex: theme('zIndex', 1072)(this.props) + elevation\n        }}\n        onClick={this.handleModalClick}\n        onKeyUp={this.handleKeyUp}\n        ref={this.modalRef}\n      >\n        <S.GlobalStyle />\n        <Dialog\n          ref={this.dialogRef}\n          onClick={this.handleDialogClick}\n        >\n          <Content>{children}</Content>\n        </Dialog>\n      </S.Modal>\n    );\n\n    const backdropClasses = [];\n    if (hasOpenClass) backdropClasses.push('open');\n    if (effect) backdropClasses.push(effect);\n\n    const backdrop = (\n      <Backdrop\n        className={backdropClasses.join(' ')}\n        style={{\n          display: displayed ? 'block' : 'none',\n          zIndex: theme('zIndex', 1072)(this.props) + elevation - 1\n        }}\n      />\n    );\n\n    return (\n      <>\n        {ReactDOM.createPortal(modal, document.body)}\n        {ReactDOM.createPortal(backdrop, document.body)}\n      </>\n    );\n  }\n\n  componentDidUpdate(prevProps: ModalProps, prevState: ModalState): void {\n    if (this.state.displayed && !prevState.displayed) {\n      this.addBodyClass();\n    } else if (!this.state.displayed && prevState.displayed) {\n      this.removeBodyClass();\n    }\n    if (this.props.effect !== 'none' && this.state.displayed && !this.state.hasOpenClass) {\n      this.clearClassTimeoutId();\n      this.clearTransitionEndHandler();\n      if (this.state.open) {\n        this.chargeClassTimeoutId();\n        if (!this.hasFocus()) {\n          this.focus();\n        }\n      } else {\n        this.chargeTransitionEndHandler();\n      }\n    }\n  }\n\n  focus() {\n    this.modalRef.current.focus();\n  }\n\n  hasFocus() {\n    let el = document.activeElement;\n    const modalEl = this.modalRef.current;\n    while (el) {\n      if (el === modalEl) {\n        return true;\n      }\n      el = el.parentElement;\n    }\n    return false;\n  }\n\n  handleModalClick = () => {\n    if (this.clickFromDialog) {\n      this.clickFromDialog = false;\n    } else if (this.props.onClose) {\n      this.props.onClose();\n    }\n  };\n\n  handleDialogClick = () => {\n    this.clickFromDialog = true;\n  };\n\n  handleKeyUp = (e: KeyboardEvent) => {\n    if ((e.key === 'Escape' || e.keyCode === 27) && this.props.closeOnEsc && this.props.onClose) {\n      this.props.onClose();\n    }\n  };\n}\n","import React, { Component, ReactElement } from 'react';\nimport CloseButton from './CloseButton';\nimport ModalProvider, { ModalContext } from './ModalProvider';\nimport Modal, { ModalProps } from './Modal';\nimport * as S from './styles';\n\nexport default class ModalConsumerWrap extends Component<ModalProps> {\n  static readonly Provider = ModalProvider;\n  static readonly Dialog = S.Dialog;\n  static readonly Content = S.Content;\n  static readonly Backdrop = S.Backdrop;\n  static readonly Header = S.Header;\n  static readonly Body = S.Body;\n  static readonly Footer = S.Footer;\n  static readonly Title = S.Title;\n  static readonly CloseButton = CloseButton;\n\n  render() {\n    return (\n      <ModalContext.Consumer>\n        {provider => <Modal {...this.props} provider={provider} />}\n      </ModalContext.Consumer>\n    );\n  }\n}\n","import React from 'react';\n\ninterface StackItem {\n  id: number;\n  elevation: number;\n}\n\nexport interface ModalProviderContextValue {\n  generateId: () => number;\n  popup: (id: number) => number;\n  hide: (id: number) => void;\n}\n\nexport const ModalContext = React.createContext<ModalProviderContextValue>({\n  // Stub\n  generateId: () => -1,\n  popup: () => 0,\n  hide: () => undefined,\n});\n\n/**\n * The root component enabling modal stacking.\n */\nexport default class ModalProvider extends React.PureComponent\n  implements ModalProviderContextValue {\n  /**\n   * ATTENTION! We use the component's state to store some data so that it could\n   * be rehydrated when using SSR. It's not a real state of the react component\n   * and we do not call setState() to set its properties. The sole purpose of\n   * it to make the data rehydrateable.\n   */\n  state = {\n    lastModalId: 0,\n    maxElevation: 0,\n    stack: [] as StackItem[],\n  };\n\n  /**\n   * The interface to pass it to the Provider as it's value.\n   */\n  iface: ModalProviderContextValue = {\n    generateId: this.generateId.bind(this),\n    popup: this.popup.bind(this),\n    hide: this.hide.bind(this),\n  };\n\n  generateId(): number {\n    return ++this.state.lastModalId;\n  }\n\n  popup(id: number): number {\n    this.state.maxElevation += 2;\n    this.state.stack.push({id, elevation: this.state.maxElevation});\n    return this.state.maxElevation;\n  }\n\n  hide(id: number): void {\n    const index = this.state.stack.findIndex(s => s.id === id);\n    if (index >= 0) {\n      this.state.stack.splice(index, 1);\n      this.state.maxElevation = this.findMaxElevation();\n    }\n  }\n\n  findMaxElevation() {\n    return this.state.stack.reduce(\n      (accum, current) =>  Math.max(accum, current.elevation)\n    , 0);\n  }\n\n  render() {\n    return (\n      <ModalContext.Provider value={this.iface}>\n        {this.props.children}\n      </ModalContext.Provider>\n    );\n  }\n}\n","let cachedTransitionEndEvent = '';\n\nexport function transitionEndEvent(): string {\n  if (!cachedTransitionEndEvent) {\n    const transitions: Record<string, string> = {\n      transition: 'transitionend',\n      OTransition: 'oTransitionEnd',\n      MozTransition: 'transitionend',\n      WebkitTransition: 'webkitTransitionEnd'\n    };\n    const el = document.createElement('div');\n    for (const key of Object.keys(transitions)) {\n      if (el.style[key as keyof CSSStyleDeclaration] !== undefined) {\n        cachedTransitionEndEvent = transitions[key];\n        break;\n      }\n    }\n  }\n  return cachedTransitionEndEvent;\n}\n\nexport const theme = (propName: string, defaultValue: any) => (props: any) => {\n  const prop = props.theme && props.theme.modal && props.theme.modal[propName];\n  return prop !== undefined ? prop : defaultValue;\n};\n","import ModalConsumerWrap from './ModalConsumerWrap';\nexport default ModalConsumerWrap;\n","import styled, { createGlobalStyle } from 'styled-components';\nimport { theme } from './helpers';\n\nexport const GlobalStyle = createGlobalStyle`\n  .modal-open {\n    overflow: hidden !important;\n  }\n`;\n\nexport const Dialog = styled.div.attrs({ role: 'document' })`\n  position: relative;\n  width: auto;\n  margin: .5rem;\n  pointer-events: none;\n  color: ${theme('textColor', 'inherit')};\n\n  @media (min-width: 576px) {\n    max-width: ${theme('mediumWidth', '500px')};\n    margin: 1.75rem auto;\n  }\n`;\n\nexport const Content = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  pointer-events: auto;\n  background-color: ${theme('backgroundColor', '#fff')};\n  background-clip: padding-box;\n  border: ${theme('borderWidth', '1px')} solid ${theme('borderColor', 'rgba(0,0,0,.2)')};\n  border-radius: ${theme('borderRadius', '.3rem')};\n  box-shadow: ${theme('boxShadow', 'none')};\n  outline: ${theme('outline', 0)};\n`;\n\nexport const Body = styled.div`\n  position: relative;\n  flex: 1 1 auto;\n  padding: ${theme('bodyPadding', '1rem')};\n  background-color: ${theme('bodyColor', 'transparent')};\n`;\n\nexport const Title = styled.h5`\n  margin: 0;\n  line-height: ${theme('titleLineHeight', 1.5)};\n  font-size: ${theme('titleFontSize', '1.25rem')};\n  font-family: ${theme('titleFontFamily', 'inherit')};\n  font-weight: ${theme('titleFontWeight', 500)};\n  color: ${theme('titleTextColor', 'inherit')};\n`;\n\nexport const CloseButton = styled.button.attrs({\n  type: 'button',\n  'aria-label': 'Close',\n  'data-dismiss': 'modal',\n})`\n  float: right;\n  font-size: ${theme('closeButtonFontSize', '1.5rem')};\n  font-weight: ${theme('closeButtonFontWeight', 700)};\n  line-height: ${theme('closeButtonLineHeight', 1.25)};\n  color: ${theme('closeButtonTextColor', '#000')};\n  text-shadow: ${theme('closeButtonTextShadow', '0 1px 0 #fff')};\n  opacity: ${theme('closeButtonOpacity', .5)};\n  background: ${theme('closeButtonBackground', 'transparent')};\n  border: ${theme('closeButtonBorder', 0)};\n  -webkit-appearance: none;\n  padding: ${theme('closeButtonPadding', '1rem')};\n  text-transform: none;\n  font-family: inherit;\n  transition: opacity 200ms ease;\n  outline: none;\n\n  &:hover {\n    opacity: ${theme('closeButtonHoverOpacity', .6)};\n  }\n\n  &:not(:disabled) {\n    cursor: pointer;\n  }\n`;\n\nexport const Header = styled.div`\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: ${theme('headerPadding', '1rem')};\n  border-bottom: ${theme('headerBorderBottom', '1px solid #e9ecef')};;\n  border-top-left-radius: ${theme('borderRadius', '.3rem')};\n  border-top-right-radius: ${theme('borderRadius', '.3rem')};\n  background-color: ${theme('headerColor', 'transparent')};\n\n  ${CloseButton} {\n    margin:\n      -${theme('headerPadding', '1rem')}\n      -${theme('headerPadding', '1rem')}\n      -${theme('headerPadding', '1rem')}\n      auto;\n  }\n`;\n\nexport const Footer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: ${theme('footerPadding', '1rem')};\n  border-top: ${theme('footerBorderTop', '1px solid #e9ecef')};\n  background-color: ${theme('footerColor', 'transparent')};\n`;\n\nexport const Backdrop = styled.div`\n  display: none;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ${theme('backdropZIndex', 1040)};\n  background-color: ${theme('backdropColor', '#000')};\n\n  &.fade {\n    transition: opacity .15s linear;\n    opacity: 0;\n    &.open {\n      opacity: ${theme('backdropOpacity', .5)};\n    }\n  }\n\n  &.none {\n    opacity: ${theme('backdropOpacity', .5)};\n  }\n`;\n\nexport const Modal = styled.div.attrs({\n  tabIndex: -1,\n  role: 'dialog',\n})`\n  display: none;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ${theme('zIndex', 1072)};\n  overflow: hidden;\n  outline: 0;\n\n  &, *, ::before, ::after {\n    box-sizing: border-box;\n  }\n\n  &.open {\n    overflow-x: hidden;\n    overflow-y: auto;\n  }\n\n  &.fade {\n    opacity: 0;\n    transition: opacity .15s linear;\n\n    &.open {\n      opacity: 1;\n    }\n  }\n\n  &.fade ${Dialog} {\n    transition: transform .3s ease-out;\n    transform: translate(0,-25%);\n  }\n\n  &.open ${Dialog} {\n    transform: translate(0,0);\n  }\n\n  &.centered ${Dialog} {\n    display: flex;\n    align-items: center;\n    min-height: calc(100% - (1.75rem * 2));\n\n    &::before {\n      content: '';\n      display: block;\n      height: calc(100vh - (1.75rem * 2));\n    }\n  }\n\n  &.small ${Dialog} {\n    @media (min-width: 576px) {\n      max-width: ${theme('smallWidth', '300px')};\n    }\n  }\n\n  &.large ${Dialog} {\n    @media (min-width: 576px) {\n      max-width: ${theme('largeWidth', '800px')};\n    }\n  }\n`;\n","module.exports = require(\"prop-types\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"styled-components\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(965);\n"],"names":["children","rest","S","CloseButton","Modal","Component","constructor","props","super","modalRef","createRef","dialogRef","classTimeoutId","clickFromDialog","handleTransitionEnd","this","setState","displayed","hasOpenClass","clearTransitionEndHandler","handleModalClick","onClose","handleDialogClick","handleKeyUp","e","key","keyCode","closeOnEsc","state","open","id","provider","generateId","elevation","static","newState","effect","popup","hide","chargeClassTimeoutId","setTimeout","clearClassTimeoutId","clearTimeout","chargeTransitionEndHandler","current","addEventListener","transitionEndEvent","removeEventListener","addBodyClass","document","body","classList","add","removeBodyClass","remove","componentWillUnmount","render","className","centered","size","Dialog","Content","Backdrop","modalClasses","push","modal","join","style","display","zIndex","theme","onClick","onKeyUp","ref","GlobalStyle","backdropClasses","backdrop","createPortal","componentDidUpdate","prevProps","prevState","hasFocus","focus","el","activeElement","modalEl","parentElement","propTypes","string","bool","oneOf","func","elementType","object","isRequired","defaultProps","ModalConsumerWrap","ModalContext","Consumer","Provider","Header","Body","Footer","Title","createContext","ModalProvider","PureComponent","lastModalId","maxElevation","stack","iface","bind","index","findIndex","s","splice","findMaxElevation","reduce","accum","Math","max","value","cachedTransitionEndEvent","transitions","transition","OTransition","MozTransition","WebkitTransition","createElement","Object","keys","undefined","propName","defaultValue","prop","createGlobalStyle","div","attrs","role","h5","button","type","tabIndex","module","exports","require","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sourceRoot":""}