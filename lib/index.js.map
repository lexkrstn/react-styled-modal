{"version":3,"file":"index.js","mappings":"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","sources":["webpack://react-styled-modal/webpack/universalModuleDefinition","webpack://react-styled-modal/./src/lib/CloseButton.tsx","webpack://react-styled-modal/./src/lib/Modal.tsx","webpack://react-styled-modal/./src/lib/ModalConsumerWrap.tsx","webpack://react-styled-modal/./src/lib/ModalProvider.tsx","webpack://react-styled-modal/./src/lib/helpers.ts","webpack://react-styled-modal/./src/lib/index.ts","webpack://react-styled-modal/./src/lib/styles.ts","webpack://react-styled-modal/external commonjs \"prop-types\"","webpack://react-styled-modal/external commonjs \"react\"","webpack://react-styled-modal/external commonjs \"react-dom\"","webpack://react-styled-modal/external commonjs \"styled-components\"","webpack://react-styled-modal/webpack/bootstrap","webpack://react-styled-modal/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-styled-modal\"] = factory();\n\telse\n\t\troot[\"react-styled-modal\"] = factory();\n})(self, function() {\nreturn ","import React, { DOMAttributes, ReactElement } from 'react';\nimport * as S from './styles';\n\nexport default function CloseButton(\n  { children, ...rest }: DOMAttributes<HTMLButtonElement>,\n): ReactElement {\n  return (\n    <S.CloseButton {...rest}>\n      {children || (\n        <span aria-hidden=\"true\">Ã—</span>\n      )}\n    </S.CloseButton>\n  );\n}\n","import React, { KeyboardEvent, ReactNode } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { transitionEndEvent, theme } from './helpers';\nimport { ModalProviderContextValue } from './ModalProvider';\nimport * as S from './styles';\n\nconst EFFECTS = ['none', 'fade'] as const;\nconst SIZES = ['small', 'medium', 'large'] as const;\n\nexport interface ModalProps {\n  children?: ReactNode;\n  className?: string;\n  open?: boolean;\n  effect?: typeof EFFECTS[number],\n  centered?: boolean;\n  size?: typeof SIZES[number];\n  closeOnEsc?: boolean;\n  onClose?: () => void;\n  Dialog?: typeof S.Dialog;\n  Content?: typeof S.Content;\n  Backdrop?: typeof S.Backdrop;\n  provider?: ModalProviderContextValue;\n}\n\ninterface ModalState {\n  open: boolean;\n  displayed: boolean;\n  hasOpenClass: boolean;\n  id: number;\n  elevation: number;\n}\n\nexport default class Modal extends React.Component<ModalProps, ModalState> {\n  static propTypes: { [K in keyof Omit<Required<ModalProps>, 'children'>]: any } = {\n    className: PropTypes.string,\n    open: PropTypes.bool,\n    effect: PropTypes.oneOf(EFFECTS),\n    centered: PropTypes.bool,\n    size: PropTypes.oneOf(SIZES),\n    closeOnEsc: PropTypes.bool,\n    // Callbacks\n    onClose: PropTypes.func,\n    // Components\n    Dialog: PropTypes.elementType,\n    Content: PropTypes.elementType,\n    Backdrop: PropTypes.elementType,\n    // The provider's (or its stub) interface\n    provider: PropTypes.object.isRequired,\n  };\n\n  static defaultProps: ModalProps = {\n    size: 'medium',\n    open: false,\n    effect: 'fade',\n    centered: false,\n    closeOnEsc: true,\n    Dialog: S.Dialog,\n    Content: S.Content,\n    Backdrop: S.Backdrop,\n  };\n\n  modalRef = React.createRef<HTMLDivElement>();\n  dialogRef = React.createRef<HTMLDivElement>();\n  classTimeoutId: NodeJS.Timeout = null;\n  clickFromDialog = false;\n\n  constructor(props: ModalProps) {\n    super(props);\n    this.state = {\n      open: props.open,\n      displayed: props.open,\n      hasOpenClass: props.open,\n      id: props.provider.generateId(),\n      elevation: 0,\n    };\n  }\n\n  static getDerivedStateFromProps(props: ModalProps, state: ModalState): Partial<ModalState> {\n    const newState: Partial<ModalState> = props.open === state.open ? null : {\n      open: props.open,\n      displayed: props.effect === 'none' ? props.open : true,\n      hasOpenClass: props.effect === 'none' ? props.open : false\n    };\n    if (props.open && !state.open) {\n      newState.elevation = props.provider.popup(state.id);\n    } else if (!props.open && state.open) {\n      props.provider.hide(state.id);\n    }\n    return newState;\n  }\n\n  chargeClassTimeoutId() {\n    this.classTimeoutId = setTimeout(() => {\n      this.setState({\n        displayed: true,\n        hasOpenClass: true\n      });\n      this.classTimeoutId = null;\n    }, 0);\n  }\n\n  clearClassTimeoutId() {\n    if (this.classTimeoutId) {\n      clearTimeout(this.classTimeoutId);\n      this.classTimeoutId = null;\n    }\n  }\n\n  handleTransitionEnd = () => {\n    this.setState({\n      displayed: false,\n      hasOpenClass: false\n    });\n    this.clearTransitionEndHandler();\n  };\n\n  chargeTransitionEndHandler() {\n    this.dialogRef.current.addEventListener(transitionEndEvent(), this.handleTransitionEnd);\n  }\n\n  clearTransitionEndHandler() {\n    this.dialogRef.current.removeEventListener(transitionEndEvent(), this.handleTransitionEnd);\n  }\n\n  addBodyClass() {\n    document.body.classList.add('modal-open');\n  }\n\n  removeBodyClass() {\n    document.body.classList.remove('modal-open');\n  }\n\n  componentWillUnmount() {\n    this.removeBodyClass();\n    this.clearClassTimeoutId();\n    this.clearTransitionEndHandler();\n  }\n\n  render() {\n    // Don't render on server-side\n    if (typeof document === 'undefined') return null;\n\n    const { className, centered, size, children, effect, Dialog, Content, Backdrop } = this.props;\n    const { displayed, hasOpenClass, elevation } = this.state;\n\n    const modalClasses = [className];\n    if (hasOpenClass) modalClasses.push('open');\n    if (effect) modalClasses.push(effect);\n    if (centered) modalClasses.push('centered');\n    if (size) modalClasses.push(size);\n\n    const modal = (\n      <S.Modal\n        className={modalClasses.join(' ')}\n        style={{\n          display: displayed ? 'block' : 'none',\n          zIndex: theme('zIndex', 1072)(this.props) + elevation\n        }}\n        onClick={this.handleModalClick}\n        onKeyUp={this.handleKeyUp}\n        ref={this.modalRef}\n      >\n        <S.GlobalStyle />\n        <Dialog\n          ref={this.dialogRef}\n          onClick={this.handleDialogClick}\n        >\n          <Content>{children}</Content>\n        </Dialog>\n      </S.Modal>\n    );\n\n    const backdropClasses = [];\n    if (hasOpenClass) backdropClasses.push('open');\n    if (effect) backdropClasses.push(effect);\n\n    const backdrop = (\n      <Backdrop\n        className={backdropClasses.join(' ')}\n        style={{\n          display: displayed ? 'block' : 'none',\n          zIndex: theme('zIndex', 1072)(this.props) + elevation - 1\n        }}\n      />\n    );\n\n    return (\n      <>\n        {ReactDOM.createPortal(modal, document.body)}\n        {ReactDOM.createPortal(backdrop, document.body)}\n      </>\n    );\n  }\n\n  componentDidUpdate(prevProps: ModalProps, prevState: ModalState): void {\n    if (this.state.displayed && !prevState.displayed) {\n      this.addBodyClass();\n    } else if (!this.state.displayed && prevState.displayed) {\n      this.removeBodyClass();\n    }\n    if (this.props.effect !== 'none' && this.state.displayed && !this.state.hasOpenClass) {\n      this.clearClassTimeoutId();\n      this.clearTransitionEndHandler();\n      if (this.state.open) {\n        this.chargeClassTimeoutId();\n        if (!this.hasFocus()) {\n          this.focus();\n        }\n      } else {\n        this.chargeTransitionEndHandler();\n      }\n    }\n  }\n\n  focus() {\n    this.modalRef.current.focus();\n  }\n\n  hasFocus() {\n    let el = document.activeElement;\n    const modalEl = this.modalRef.current;\n    while (el) {\n      if (el === modalEl) {\n        return true;\n      }\n      el = el.parentElement;\n    }\n    return false;\n  }\n\n  handleModalClick = () => {\n    if (this.clickFromDialog) {\n      this.clickFromDialog = false;\n    } else if (this.props.onClose) {\n      this.props.onClose();\n    }\n  };\n\n  handleDialogClick = () => {\n    this.clickFromDialog = true;\n  };\n\n  handleKeyUp = (e: KeyboardEvent) => {\n    if ((e.key === 'Escape' || e.keyCode === 27) && this.props.closeOnEsc && this.props.onClose) {\n      this.props.onClose();\n    }\n  };\n}\n","import React, { Component, ReactElement } from 'react';\nimport CloseButton from './CloseButton';\nimport ModalProvider, { ModalContext } from './ModalProvider';\nimport Modal, { ModalProps } from './Modal';\nimport * as S from './styles';\n\nexport default class ModalConsumerWrap extends Component<ModalProps> {\n  static readonly Provider = ModalProvider;\n  static readonly Dialog = S.Dialog;\n  static readonly Content = S.Content;\n  static readonly Backdrop = S.Backdrop;\n  static readonly Header = S.Header;\n  static readonly Body = S.Body;\n  static readonly Footer = S.Footer;\n  static readonly Title = S.Title;\n  static readonly CloseButton = CloseButton;\n\n  render() {\n    return (\n      <ModalContext.Consumer>\n        {provider => <Modal {...this.props} provider={provider} />}\n      </ModalContext.Consumer>\n    );\n  }\n}\n","import React from 'react';\n\ninterface StackItem {\n  id: number;\n  elevation: number;\n}\n\nexport interface ModalProviderContextValue {\n  generateId: () => number;\n  popup: (id: number) => number;\n  hide: (id: number) => void;\n}\n\nexport const ModalContext = React.createContext<ModalProviderContextValue>({\n  // Stub\n  generateId: () => -1,\n  popup: () => 0,\n  hide: () => undefined,\n});\n\n/**\n * The root component enabling modal stacking.\n */\nexport default class ModalProvider extends React.PureComponent\n  implements ModalProviderContextValue {\n  /**\n   * ATTENTION! We use the component's state to store some data so that it could\n   * be rehydrated when using SSR. It's not a real state of the react component\n   * and we do not call setState() to set its properties. The sole purpose of\n   * it to make the data rehydrateable.\n   */\n  state = {\n    lastModalId: 0,\n    maxElevation: 0,\n    stack: [] as StackItem[],\n  };\n\n  /**\n   * The interface to pass it to the Provider as it's value.\n   */\n  iface: ModalProviderContextValue = {\n    generateId: this.generateId.bind(this),\n    popup: this.popup.bind(this),\n    hide: this.hide.bind(this),\n  };\n\n  generateId(): number {\n    return ++this.state.lastModalId;\n  }\n\n  popup(id: number): number {\n    this.state.maxElevation += 2;\n    this.state.stack.push({id, elevation: this.state.maxElevation});\n    return this.state.maxElevation;\n  }\n\n  hide(id: number): void {\n    const index = this.state.stack.findIndex(s => s.id === id);\n    if (index >= 0) {\n      this.state.stack.splice(index, 1);\n      this.state.maxElevation = this.findMaxElevation();\n    }\n  }\n\n  findMaxElevation() {\n    return this.state.stack.reduce(\n      (accum, current) =>  Math.max(accum, current.elevation)\n    , 0);\n  }\n\n  render() {\n    return (\n      <ModalContext.Provider value={this.iface}>\n        {this.props.children}\n      </ModalContext.Provider>\n    );\n  }\n}\n","let cachedTransitionEndEvent = '';\n\nexport function transitionEndEvent(): string {\n  if (!cachedTransitionEndEvent) {\n    const transitions: Record<string, string> = {\n      transition: 'transitionend',\n      OTransition: 'oTransitionEnd',\n      MozTransition: 'transitionend',\n      WebkitTransition: 'webkitTransitionEnd'\n    };\n    const el = document.createElement('div');\n    for (const key of Object.keys(transitions)) {\n      if (el.style[key as keyof CSSStyleDeclaration] !== undefined) {\n        cachedTransitionEndEvent = transitions[key];\n        break;\n      }\n    }\n  }\n  return cachedTransitionEndEvent;\n}\n\nexport const theme = (propName: string, defaultValue: any) => (props: any) => {\n  const prop = props.theme && props.theme.modal && props.theme.modal[propName];\n  return prop !== undefined ? prop : defaultValue;\n};\n","import ModalConsumerWrap from './ModalConsumerWrap';\nexport default ModalConsumerWrap;\n","import styled, { createGlobalStyle } from 'styled-components';\nimport { theme } from './helpers';\n\nexport const GlobalStyle = createGlobalStyle`\n  .modal-open {\n    overflow: hidden !important;\n  }\n`;\n\nexport const Dialog = styled.div.attrs({ role: 'document' })`\n  position: relative;\n  width: auto;\n  margin: .5rem;\n  pointer-events: none;\n  color: ${theme('textColor', 'inherit')};\n\n  @media (min-width: 576px) {\n    max-width: ${theme('mediumWidth', '500px')};\n    margin: 1.75rem auto;\n  }\n`;\n\nexport const Content = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  pointer-events: auto;\n  background-color: ${theme('backgroundColor', '#fff')};\n  background-clip: padding-box;\n  border: ${theme('borderWidth', '1px')} solid ${theme('borderColor', 'rgba(0,0,0,.2)')};\n  border-radius: ${theme('borderRadius', '.3rem')};\n  box-shadow: ${theme('boxShadow', 'none')};\n  outline: ${theme('outline', 0)};\n`;\n\nexport const Body = styled.div`\n  position: relative;\n  flex: 1 1 auto;\n  padding: ${theme('bodyPadding', '1rem')};\n  background-color: ${theme('bodyColor', 'transparent')};\n`;\n\nexport const Title = styled.h5`\n  margin: 0;\n  line-height: ${theme('titleLineHeight', 1.5)};\n  font-size: ${theme('titleFontSize', '1.25rem')};\n  font-family: ${theme('titleFontFamily', 'inherit')};\n  font-weight: ${theme('titleFontWeight', 500)};\n  color: ${theme('titleTextColor', 'inherit')};\n`;\n\nexport const CloseButton = styled.button.attrs({\n  type: 'button',\n  'aria-label': 'Close',\n  'data-dismiss': 'modal',\n})`\n  float: right;\n  font-size: ${theme('closeButtonFontSize', '1.5rem')};\n  font-weight: ${theme('closeButtonFontWeight', 700)};\n  line-height: ${theme('closeButtonLineHeight', 1.25)};\n  color: ${theme('closeButtonTextColor', '#000')};\n  text-shadow: ${theme('closeButtonTextShadow', '0 1px 0 #fff')};\n  opacity: ${theme('closeButtonOpacity', .5)};\n  background: ${theme('closeButtonBackground', 'transparent')};\n  border: ${theme('closeButtonBorder', 0)};\n  -webkit-appearance: none;\n  padding: ${theme('closeButtonPadding', '1rem')};\n  text-transform: none;\n  font-family: inherit;\n  transition: opacity 200ms ease;\n  outline: none;\n\n  &:hover {\n    opacity: ${theme('closeButtonHoverOpacity', .6)};\n  }\n\n  &:not(:disabled) {\n    cursor: pointer;\n  }\n`;\n\nexport const Header = styled.div`\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: ${theme('headerPadding', '1rem')};\n  border-bottom: ${theme('headerBorderBottom', '1px solid #e9ecef')};;\n  border-top-left-radius: ${theme('borderRadius', '.3rem')};\n  border-top-right-radius: ${theme('borderRadius', '.3rem')};\n  background-color: ${theme('headerColor', 'transparent')};\n\n  ${CloseButton} {\n    margin:\n      -${theme('headerPadding', '1rem')}\n      -${theme('headerPadding', '1rem')}\n      -${theme('headerPadding', '1rem')}\n      auto;\n  }\n`;\n\nexport const Footer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: ${theme('footerPadding', '1rem')};\n  border-top: ${theme('footerBorderTop', '1px solid #e9ecef')};\n  background-color: ${theme('footerColor', 'transparent')};\n`;\n\nexport const Backdrop = styled.div`\n  display: none;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ${theme('backdropZIndex', 1040)};\n  background-color: ${theme('backdropColor', '#000')};\n\n  &.fade {\n    transition: opacity .15s linear;\n    opacity: 0;\n    &.open {\n      opacity: ${theme('backdropOpacity', .5)};\n    }\n  }\n\n  &.none {\n    opacity: ${theme('backdropOpacity', .5)};\n  }\n`;\n\nexport const Modal = styled.div.attrs({\n  tabIndex: -1,\n  role: 'dialog',\n})`\n  display: none;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ${theme('zIndex', 1072)};\n  overflow: hidden;\n  outline: 0;\n\n  &, *, ::before, ::after {\n    box-sizing: border-box;\n  }\n\n  &.open {\n    overflow-x: hidden;\n    overflow-y: auto;\n  }\n\n  &.fade {\n    opacity: 0;\n    transition: opacity .15s linear;\n\n    &.open {\n      opacity: 1;\n    }\n  }\n\n  &.fade ${Dialog} {\n    transition: transform .3s ease-out;\n    transform: translate(0,-25%);\n  }\n\n  &.open ${Dialog} {\n    transform: translate(0,0);\n  }\n\n  &.centered ${Dialog} {\n    display: flex;\n    align-items: center;\n    min-height: calc(100% - (1.75rem * 2));\n\n    &::before {\n      content: '';\n      display: block;\n      height: calc(100vh - (1.75rem * 2));\n    }\n  }\n\n  &.small ${Dialog} {\n    @media (min-width: 576px) {\n      max-width: ${theme('smallWidth', '300px')};\n    }\n  }\n\n  &.large ${Dialog} {\n    @media (min-width: 576px) {\n      max-width: ${theme('largeWidth', '800px')};\n    }\n  }\n`;\n","module.exports = require(\"prop-types\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"styled-components\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(965);\n"],"names":["root","factory","exports","module","define","amd","self","children","rest","S","CloseButton","EFFECTS","SIZES","props","modalRef","createRef","dialogRef","classTimeoutId","clickFromDialog","handleTransitionEnd","setState","displayed","hasOpenClass","clearTransitionEndHandler","handleModalClick","onClose","handleDialogClick","handleKeyUp","e","key","keyCode","closeOnEsc","state","open","id","provider","generateId","elevation","getDerivedStateFromProps","newState","effect","popup","hide","chargeClassTimeoutId","this","setTimeout","clearClassTimeoutId","clearTimeout","chargeTransitionEndHandler","current","addEventListener","transitionEndEvent","removeEventListener","addBodyClass","document","body","classList","add","removeBodyClass","remove","componentWillUnmount","render","className","centered","size","Dialog","Content","Backdrop","modalClasses","push","modal","Modal","join","style","display","zIndex","theme","onClick","onKeyUp","ref","GlobalStyle","backdropClasses","backdrop","createPortal","componentDidUpdate","prevProps","prevState","hasFocus","focus","el","activeElement","modalEl","parentElement","propTypes","string","bool","oneOf","func","elementType","object","isRequired","defaultProps","Component","ModalContext","Consumer","Provider","Header","Body","Footer","Title","ModalConsumerWrap","createContext","lastModalId","maxElevation","stack","iface","bind","index","findIndex","s","splice","findMaxElevation","reduce","accum","Math","max","value","PureComponent","cachedTransitionEndEvent","transitions","transition","OTransition","MozTransition","WebkitTransition","createElement","Object","keys","undefined","propName","defaultValue","prop","createGlobalStyle","div","attrs","role","h5","button","type","tabIndex","require","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sourceRoot":""}